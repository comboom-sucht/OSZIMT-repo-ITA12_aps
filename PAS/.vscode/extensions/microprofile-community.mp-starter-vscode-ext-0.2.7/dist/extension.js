module.exports=(()=>{var e={278:(e,t,r)=>{var n=r(173),o=n.FileSystem.require(),i=r(622);o.existsSync=o.existsSync||i.existsSync;var s=r(396),a=r(333);/^win/.test(process.platform),e.exports=function(e){var t=void 0,r="";if(e&&"string"==typeof e){if(!o.existsSync(e))throw n.Errors.INVALID_FILENAME;r=e,t=new a(e,n.Constants.FILE)}else t=e&&Buffer.isBuffer(e)?new a(e,n.Constants.BUFFER):new a(null,n.Constants.NONE);function c(e,t){e=i.resolve(i.normalize(e));for(var r=t.split("/"),n=0,o=r.length;n<o;n++){var s=i.normalize(i.join(e,r.slice(n,o).join(i.sep)));if(0===s.indexOf(e))return s}return i.normalize(i.join(e,i.basename(t)))}function u(e){var r;return e&&t&&("string"==typeof e&&(r=t.getEntry(e)),"object"==typeof e&&void 0!==e.entryName&&void 0!==e.header&&(r=t.getEntry(e.entryName)),r)?r:null}return{readFile:function(e){var t=u(e);return t&&t.getData()||null},readFileAsync:function(e,t){var r=u(e);r?r.getDataAsync(t):t(null,"getEntry failed for:"+e)},readAsText:function(e,t){var r=u(e);if(r){var n=r.getData();if(n&&n.length)return n.toString(t||"utf8")}return""},readAsTextAsync:function(e,t,r){var n=u(e);n?n.getDataAsync((function(e,n){n?t(e,n):e&&e.length?t(e.toString(r||"utf8")):t("")})):t("")},deleteFile:function(e){var r=u(e);r&&t.deleteEntry(r.entryName)},addZipComment:function(e){t.comment=e},getZipComment:function(){return t.comment||""},addZipEntryComment:function(e,t){var r=u(e);r&&(r.comment=t)},getZipEntryComment:function(e){var t=u(e);return t&&t.comment||""},updateFile:function(e,t){var r=u(e);r&&r.setData(t)},addLocalFile:function(e,t,r){if(!o.existsSync(e))throw n.Errors.FILE_NOT_FOUND.replace("%s",e);t?"/"!==(t=t.split("\\").join("/")).charAt(t.length-1)&&(t+="/"):t="";var i=e.split("\\").join("/").split("/").pop();r?this.addFile(t+r,o.readFileSync(e),"",0):this.addFile(t+i,o.readFileSync(e),"",0)},addLocalFolder:function(e,t,r){if(void 0===r?r=function(){return!0}:r instanceof RegExp&&(r=function(e){return function(t){return e.test(t)}}(r)),t?"/"!==(t=t.split("\\").join("/")).charAt(t.length-1)&&(t+="/"):t="","/"!==(e=(e=i.normalize(e)).split("\\").join("/")).charAt(e.length-1)&&(e+="/"),!o.existsSync(e))throw n.Errors.FILE_NOT_FOUND.replace("%s",e);var s=n.findFiles(e),a=this;s.length&&s.forEach((function(n){var i=n.split("\\").join("/").replace(new RegExp(e.replace(/(\(|\))/g,"\\$1"),"i"),"");r(i)&&("/"!==i.charAt(i.length-1)?a.addFile(t+i,o.readFileSync(n),"",0):a.addFile(t+i,Buffer.alloc(0),"",0))}))},addLocalFolderAsync:function(e,t,r,s){void 0===s?s=function(){return!0}:s instanceof RegExp&&(s=function(e){return function(t){return e.test(t)}}(s)),r?"/"!==(r=r.split("\\").join("/")).charAt(r.length-1)&&(r+="/"):r="","/"!==(e=(e=i.normalize(e)).split("\\").join("/")).charAt(e.length-1)&&(e+="/");var a=this;o.open(e,"r",(function(i,c){if(i&&"ENOENT"===i.code)t(void 0,n.Errors.FILE_NOT_FOUND.replace("%s",e));else if(i)t(void 0,i);else{var u=n.findFiles(e),l=-1,f=function(){if((l+=1)<u.length){var n=u[l].split("\\").join("/").replace(new RegExp(e.replace(/(\(|\))/g,"\\$1"),"i"),"");n=n.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,""),s(n)?"/"!==n.charAt(n.length-1)?o.readFile(u[l],(function(e,o){e?t(void 0,e):(a.addFile(r+n,o,"",0),f())})):(a.addFile(r+n,Buffer.alloc(0),"",0),f()):f()}else t(!0,void 0)};f()}}))},addFile:function(e,r,n,o){var i=new s;i.entryName=e,i.comment=n||"",o||(o=i.isDirectory?1106051088:420<<16),i.attr=o,i.setData(r),t.setEntry(i)},getEntries:function(){return t?t.entries:[]},getEntry:function(e){return u(e)},getEntryCount:function(){return t.getEntryCount()},forEach:function(e){return t.forEach(e)},extractEntryTo:function(e,r,s,a){a=a||!1,s=void 0===s||s;var l=u(e);if(!l)throw n.Errors.NO_ENTRY;var f=l.entryName,d=c(r,s?f:i.basename(f));if(l.isDirectory)return d=i.resolve(d,".."),t.getEntryChildren(l).forEach((function(e){if(!e.isDirectory){var t=e.getData();if(!t)throw n.Errors.CANT_EXTRACT_FILE;var o=c(r,s?e.entryName:i.basename(e.entryName));n.writeFileTo(o,t,a)}})),!0;var h=l.getData();if(!h)throw n.Errors.CANT_EXTRACT_FILE;if(o.existsSync(d)&&!a)throw n.Errors.CANT_OVERRIDE;return n.writeFileTo(d,h,a),!0},test:function(){if(!t)return!1;for(var e in t.entries)try{if(e.isDirectory)continue;if(!t.entries[e].getData())return!1}catch(e){return!1}return!0},extractAllTo:function(e,r){if(r=r||!1,!t)throw n.Errors.NO_ZIP;t.entries.forEach((function(t){var i=c(e,t.entryName.toString());if(t.isDirectory)n.makeDir(i);else{var s=t.getData();if(!s)throw n.Errors.CANT_EXTRACT_FILE;n.writeFileTo(i,s,r);try{o.utimesSync(i,t.header.time,t.header.time)}catch(e){throw n.Errors.CANT_EXTRACT_FILE}}}))},extractAllToAsync:function(e,r,s){if(s||(s=function(){}),r=r||!1,t){var a=t.entries,u=a.length;a.forEach((function(t){if(!(u<=0)){var a=i.normalize(t.entryName.toString());if(t.isDirectory)return n.makeDir(c(e,a)),void(0==--u&&s(void 0));t.getDataAsync((function(l,f){if(!(u<=0)){if(!f)return l?void n.writeFileToAsync(c(e,a),l,r,(function(r){try{o.utimesSync(i.resolve(e,a),t.header.time,t.header.time)}catch(e){s(new Error("Unable to set utimes"))}if(!(u<=0))return r?void(0==--u&&s(void 0)):(u=0,void s(new Error("Unable to write")))})):(u=0,void s(new Error(n.Errors.CANT_EXTRACT_FILE)));s(new Error(f))}}))}}))}else s(new Error(n.Errors.NO_ZIP))},writeZip:function(e,o){if(1===arguments.length&&"function"==typeof e&&(o=e,e=""),!e&&r&&(e=r),e){var i=t.compressToBuffer();if(i){var s=n.writeFileTo(e,i,!0);"function"==typeof o&&o(s?null:new Error("failed"),"")}}},toBuffer:function(e,r,n,o){return this.valueOf=2,"function"==typeof e?(t.toAsyncBuffer(e,r,n,o),null):t.compressToBuffer()}}}},907:(e,t,r)=>{var n=r(173),o=n.Constants;e.exports=function(){var e=10,t=10,r=0,i=0,s=0,a=0,c=0,u=0,l=0,f=0,d=0,h=0,E=0,p=0,y=0,m={};function g(e){e=new Date(e),s=(e.getFullYear()-1980&127)<<25|e.getMonth()+1<<21|e.getDate()<<16|e.getHours()<<11|e.getMinutes()<<5|e.getSeconds()>>1}return g(+new Date),{get made(){return e},set made(t){e=t},get version(){return t},set version(e){t=e},get flags(){return r},set flags(e){r=e},get method(){return i},set method(e){i=e},get time(){return new Date(1980+(s>>25&127),(s>>21&15)-1,s>>16&31,s>>11&31,s>>5&63,(31&s)<<1)},set time(e){g(e)},get crc(){return a},set crc(e){a=e},get compressedSize(){return c},set compressedSize(e){c=e},get size(){return u},set size(e){u=e},get fileNameLength(){return l},set fileNameLength(e){l=e},get extraLength(){return f},set extraLength(e){f=e},get commentLength(){return d},set commentLength(e){d=e},get diskNumStart(){return h},set diskNumStart(e){h=e},get inAttr(){return E},set inAttr(e){E=e},get attr(){return p},set attr(e){p=e},get offset(){return y},set offset(e){y=e},get encripted(){return 1==(1&r)},get entryHeaderSize(){return o.CENHDR+l+f+d},get realDataOffset(){return y+o.LOCHDR+m.fnameLen+m.extraLen},get dataHeader(){return m},loadDataHeaderFromBinary:function(e){var t=e.slice(y,y+o.LOCHDR);if(t.readUInt32LE(0)!==o.LOCSIG)throw n.Errors.INVALID_LOC;m={version:t.readUInt16LE(o.LOCVER),flags:t.readUInt16LE(o.LOCFLG),method:t.readUInt16LE(o.LOCHOW),time:t.readUInt32LE(o.LOCTIM),crc:t.readUInt32LE(o.LOCCRC),compressedSize:t.readUInt32LE(o.LOCSIZ),size:t.readUInt32LE(o.LOCLEN),fnameLen:t.readUInt16LE(o.LOCNAM),extraLen:t.readUInt16LE(o.LOCEXT)}},loadFromBinary:function(m){if(m.length!==o.CENHDR||m.readUInt32LE(0)!==o.CENSIG)throw n.Errors.INVALID_CEN;e=m.readUInt16LE(o.CENVEM),t=m.readUInt16LE(o.CENVER),r=m.readUInt16LE(o.CENFLG),i=m.readUInt16LE(o.CENHOW),s=m.readUInt32LE(o.CENTIM),a=m.readUInt32LE(o.CENCRC),c=m.readUInt32LE(o.CENSIZ),u=m.readUInt32LE(o.CENLEN),l=m.readUInt16LE(o.CENNAM),f=m.readUInt16LE(o.CENEXT),d=m.readUInt16LE(o.CENCOM),h=m.readUInt16LE(o.CENDSK),E=m.readUInt16LE(o.CENATT),p=m.readUInt32LE(o.CENATX),y=m.readUInt32LE(o.CENOFF)},dataHeaderToBinary:function(){var e=Buffer.alloc(o.LOCHDR);return e.writeUInt32LE(o.LOCSIG,0),e.writeUInt16LE(t,o.LOCVER),e.writeUInt16LE(r,o.LOCFLG),e.writeUInt16LE(i,o.LOCHOW),e.writeUInt32LE(s,o.LOCTIM),e.writeUInt32LE(a,o.LOCCRC),e.writeUInt32LE(c,o.LOCSIZ),e.writeUInt32LE(u,o.LOCLEN),e.writeUInt16LE(l,o.LOCNAM),e.writeUInt16LE(f,o.LOCEXT),e},entryHeaderToBinary:function(){var n=Buffer.alloc(o.CENHDR+l+f+d);return n.writeUInt32LE(o.CENSIG,0),n.writeUInt16LE(e,o.CENVEM),n.writeUInt16LE(t,o.CENVER),n.writeUInt16LE(r,o.CENFLG),n.writeUInt16LE(i,o.CENHOW),n.writeUInt32LE(s,o.CENTIM),n.writeUInt32LE(a,o.CENCRC),n.writeUInt32LE(c,o.CENSIZ),n.writeUInt32LE(u,o.CENLEN),n.writeUInt16LE(l,o.CENNAM),n.writeUInt16LE(f,o.CENEXT),n.writeUInt16LE(d,o.CENCOM),n.writeUInt16LE(h,o.CENDSK),n.writeUInt16LE(E,o.CENATT),n.writeUInt32LE(p,o.CENATX),n.writeUInt32LE(y,o.CENOFF),n.fill(0,o.CENHDR),n},toString:function(){return'{\n\t"made" : '+e+',\n\t"version" : '+t+',\n\t"flags" : '+r+',\n\t"method" : '+n.methodToString(i)+',\n\t"time" : '+this.time+',\n\t"crc" : 0x'+a.toString(16).toUpperCase()+',\n\t"compressedSize" : '+c+' bytes,\n\t"size" : '+u+' bytes,\n\t"fileNameLength" : '+l+',\n\t"extraLength" : '+f+' bytes,\n\t"commentLength" : '+d+' bytes,\n\t"diskNumStart" : '+h+',\n\t"inAttr" : '+E+',\n\t"attr" : '+p+',\n\t"offset" : '+y+',\n\t"entryHeaderSize" : '+(o.CENHDR+l+f+d)+" bytes\n}"}}}},854:(e,t,r)=>{t.EntryHeader=r(907),t.MainHeader=r(519)},519:(e,t,r)=>{var n=r(173),o=n.Constants;e.exports=function(){var e=0,t=0,r=0,i=0,s=0;return{get diskEntries(){return e},set diskEntries(r){e=t=r},get totalEntries(){return t},set totalEntries(r){t=e=r},get size(){return r},set size(e){r=e},get offset(){return i},set offset(e){i=e},get commentLength(){return s},set commentLength(e){s=e},get mainHeaderSize(){return o.ENDHDR+s},loadFromBinary:function(a){if((a.length!==o.ENDHDR||a.readUInt32LE(0)!==o.ENDSIG)&&(a.length<o.ZIP64HDR||a.readUInt32LE(0)!==o.ZIP64SIG))throw n.Errors.INVALID_END;a.readUInt32LE(0)===o.ENDSIG?(e=a.readUInt16LE(o.ENDSUB),t=a.readUInt16LE(o.ENDTOT),r=a.readUInt32LE(o.ENDSIZ),i=a.readUInt32LE(o.ENDOFF),s=a.readUInt16LE(o.ENDCOM)):(e=n.readBigUInt64LE(a,o.ZIP64SUB),t=n.readBigUInt64LE(a,o.ZIP64TOT),r=n.readBigUInt64LE(a,o.ZIP64SIZ),i=n.readBigUInt64LE(a,o.ZIP64OFF),s=0)},toBinary:function(){var n=Buffer.alloc(o.ENDHDR+s);return n.writeUInt32LE(o.ENDSIG,0),n.writeUInt32LE(0,4),n.writeUInt16LE(e,o.ENDSUB),n.writeUInt16LE(t,o.ENDTOT),n.writeUInt32LE(r,o.ENDSIZ),n.writeUInt32LE(i,o.ENDOFF),n.writeUInt16LE(s,o.ENDCOM),n.fill(" ",o.ENDHDR),n},toString:function(){return'{\n\t"diskEntries" : '+e+',\n\t"totalEntries" : '+t+',\n\t"size" : '+r+' bytes,\n\t"offset" : 0x'+i.toString(16).toUpperCase()+',\n\t"commentLength" : 0x'+s+"\n}"}}}},753:(e,t,r)=>{e.exports=function(e){var t=r(761),n={chunkSize:1024*(parseInt(e.length/1024)+1)};return{deflate:function(){return t.deflateRawSync(e,n)},deflateAsync:function(r){var o=t.createDeflateRaw(n),i=[],s=0;o.on("data",(function(e){i.push(e),s+=e.length})),o.on("end",(function(){var e=Buffer.alloc(s),t=0;e.fill(0);for(var n=0;n<i.length;n++){var o=i[n];o.copy(e,t),t+=o.length}r&&r(e)})),o.end(e)}}}},4:(e,t,r)=>{t.Deflater=r(753),t.Inflater=r(269)},269:(e,t,r)=>{e.exports=function(e){var t=r(761);return{inflate:function(){return t.inflateRawSync(e)},inflateAsync:function(r){var n=t.createInflateRaw(),o=[],i=0;n.on("data",(function(e){o.push(e),i+=e.length})),n.on("end",(function(){var e=Buffer.alloc(i),t=0;e.fill(0);for(var n=0;n<o.length;n++){var s=o[n];s.copy(e,t),t+=s.length}r&&r(e)})),n.end(e)}}}},991:e=>{e.exports={LOCHDR:30,LOCSIG:67324752,LOCVER:4,LOCFLG:6,LOCHOW:8,LOCTIM:10,LOCCRC:14,LOCSIZ:18,LOCLEN:22,LOCNAM:26,LOCEXT:28,EXTSIG:134695760,EXTHDR:16,EXTCRC:4,EXTSIZ:8,EXTLEN:12,CENHDR:46,CENSIG:33639248,CENVEM:4,CENVER:6,CENFLG:8,CENHOW:10,CENTIM:12,CENCRC:16,CENSIZ:20,CENLEN:24,CENNAM:28,CENEXT:30,CENCOM:32,CENDSK:34,CENATT:36,CENATX:38,CENOFF:42,ENDHDR:22,ENDSIG:101010256,ENDSUB:8,ENDTOT:10,ENDSIZ:12,ENDOFF:16,ENDCOM:20,END64HDR:20,END64SIG:117853008,END64START:4,END64OFF:8,END64NUMDISKS:16,ZIP64SIG:101075792,ZIP64HDR:56,ZIP64LEAD:12,ZIP64SIZE:4,ZIP64VEM:12,ZIP64VER:14,ZIP64DSK:16,ZIP64DSKDIR:20,ZIP64SUB:24,ZIP64TOT:32,ZIP64SIZB:40,ZIP64OFF:48,ZIP64EXTRA:56,STORED:0,SHRUNK:1,REDUCED1:2,REDUCED2:3,REDUCED3:4,REDUCED4:5,IMPLODED:6,DEFLATED:8,ENHANCED_DEFLATED:9,PKWARE:10,BZIP2:12,LZMA:14,IBM_TERSE:18,IBM_LZ77:19,FLG_ENC:0,FLG_COMP1:1,FLG_COMP2:2,FLG_DESC:4,FLG_ENH:8,FLG_STR:16,FLG_LNG:1024,FLG_MSK:4096,FILE:0,BUFFER:1,NONE:2,EF_ID:0,EF_SIZE:2,ID_ZIP64:1,ID_AVINFO:7,ID_PFS:8,ID_OS2:9,ID_NTFS:10,ID_OPENVMS:12,ID_UNIX:13,ID_FORK:14,ID_PATCH:15,ID_X509_PKCS7:20,ID_X509_CERTID_F:21,ID_X509_CERTID_C:22,ID_STRONGENC:23,ID_RECORD_MGT:24,ID_X509_PKCS7_RL:25,ID_IBM1:101,ID_IBM2:102,ID_POSZIP:18064,EF_ZIP64_OR_32:4294967295,EF_ZIP64_OR_16:65535,EF_ZIP64_SUNCOMP:0,EF_ZIP64_SCOMP:8,EF_ZIP64_RHO:16,EF_ZIP64_DSN:24}},190:e=>{e.exports={INVALID_LOC:"Invalid LOC header (bad signature)",INVALID_CEN:"Invalid CEN header (bad signature)",INVALID_END:"Invalid END header (bad signature)",NO_DATA:"Nothing to decompress",BAD_CRC:"CRC32 checksum failed",FILE_IN_THE_WAY:"There is a file in the way: %s",UNKNOWN_METHOD:"Invalid/unsupported compression method",AVAIL_DATA:"inflate::Available inflate data did not terminate",INVALID_DISTANCE:"inflate::Invalid literal/length or distance code in fixed or dynamic block",TO_MANY_CODES:"inflate::Dynamic block code description: too many length or distance codes",INVALID_REPEAT_LEN:"inflate::Dynamic block code description: repeat more than specified lengths",INVALID_REPEAT_FIRST:"inflate::Dynamic block code description: repeat lengths with no first length",INCOMPLETE_CODES:"inflate::Dynamic block code description: code lengths codes incomplete",INVALID_DYN_DISTANCE:"inflate::Dynamic block code description: invalid distance code lengths",INVALID_CODES_LEN:"inflate::Dynamic block code description: invalid literal/length code lengths",INVALID_STORE_BLOCK:"inflate::Stored block length did not match one's complement",INVALID_BLOCK_TYPE:"inflate::Invalid block type (type == 3)",CANT_EXTRACT_FILE:"Could not extract the file",CANT_OVERRIDE:"Target file already exists",NO_ZIP:"No zip file was loaded",NO_ENTRY:"Entry doesn't exist",DIRECTORY_CONTENT_ERROR:"A directory cannot have content",FILE_NOT_FOUND:"File not found: %s",NOT_IMPLEMENTED:"Not implemented",INVALID_FILENAME:"Invalid filename",INVALID_FORMAT:"Invalid or unsupported zip format. No END header found"}},455:(e,t,r)=>{var n=r(147).require(),o=r(622);n.existsSync=n.existsSync||o.existsSync,e.exports=function(e){var t=e||"",r={directory:!1,readonly:!1,hidden:!1,executable:!1,mtime:0,atime:0},i=null;return t&&n.existsSync(t)?(i=n.statSync(t),r.directory=i.isDirectory(),r.mtime=i.mtime,r.atime=i.atime,r.executable=!!(1&parseInt((i.mode&parseInt("777",8)).toString(8)[0])),r.readonly=!!(2&parseInt((i.mode&parseInt("777",8)).toString(8)[0])),r.hidden="."===o.basename(t)[0]):console.warn("Invalid path: "+t),{get directory(){return r.directory},get readOnly(){return r.readonly},get hidden(){return r.hidden},get mtime(){return r.mtime},get atime(){return r.atime},get executable(){return r.executable},decodeAttributes:function(e){},encodeAttributes:function(e){},toString:function(){return'{\n\t"path" : "'+t+',\n\t"isDirectory" : '+r.directory+',\n\t"isReadOnly" : '+r.readonly+',\n\t"isHidden" : '+r.hidden+',\n\t"isExecutable" : '+r.executable+',\n\t"mTime" : '+r.mtime+'\n\t"aTime" : '+r.atime+"\n}"}}}},147:(e,t,r)=>{t.require=function(){var e=r(747);if(process.versions.electron)try{originalFs=r(Object(function(){var e=new Error("Cannot find module 'original-fs'");throw e.code="MODULE_NOT_FOUND",e}())),Object.keys(originalFs).length>0&&(e=originalFs)}catch(e){}return e}},173:(e,t,r)=>{e.exports=r(646),e.exports.FileSystem=r(147),e.exports.Constants=r(991),e.exports.Errors=r(190),e.exports.FileAttr=r(455)},646:(e,t,r)=>{var n=r(147).require(),o=r(622);n.existsSync=n.existsSync||o.existsSync,e.exports=function(){var e=[],t=r(991),i=r(190),s=o.sep;function a(e){var t=e.split(s)[0];e.split(s).forEach((function(e){if(e&&":"!==e.substr(-1,1)){var r;t+=s+e;try{r=n.statSync(t)}catch(e){n.mkdirSync(t)}if(r&&r.isFile())throw i.FILE_IN_THE_WAY.replace("%s",t)}}))}function c(e,t,r){"boolean"==typeof t&&(r=t,t=void 0);var i=[];return n.readdirSync(e).forEach((function(a){var u=o.join(e,a);n.statSync(u).isDirectory()&&r&&(i=i.concat(c(u,t,r))),t&&!t.test(u)||i.push(o.normalize(u)+(n.statSync(u).isDirectory()?s:""))})),i}return{makeDir:function(e){a(e)},crc32:function(t){"string"==typeof t&&(t=Buffer.alloc(t.length,t));var r=Buffer.alloc(4);if(!e.length)for(var n=0;n<256;n++){for(var o=n,i=8;--i>=0;)0!=(1&o)?o=3988292384^o>>>1:o>>>=1;o<0&&(r.writeInt32LE(o,0),o=r.readUInt32LE(0)),e[n]=o}for(var s=0,a=0,c=t.length,u=~s;--c>=0;)u=e[255&(u^t[a++])]^u>>>8;return s=~u,r.writeInt32LE(4294967295&s,0),r.readUInt32LE(0)},methodToString:function(e){switch(e){case t.STORED:return"STORED ("+e+")";case t.DEFLATED:return"DEFLATED ("+e+")";default:return"UNSUPPORTED ("+e+")"}},writeFileTo:function(e,t,r,i){if(n.existsSync(e)){if(!r)return!1;if(n.statSync(e).isDirectory())return!1}var s,c=o.dirname(e);n.existsSync(c)||a(c);try{s=n.openSync(e,"w",438)}catch(t){n.chmodSync(e,438),s=n.openSync(e,"w",438)}if(s)try{n.writeSync(s,t,0,t.length,0)}catch(e){throw e}finally{n.closeSync(s)}return n.chmodSync(e,i||438),!0},writeFileToAsync:function(e,t,r,i,s){"function"==typeof i&&(s=i,i=void 0),n.exists(e,(function(c){if(c&&!r)return s(!1);n.stat(e,(function(r,u){if(c&&u.isDirectory())return s(!1);var l=o.dirname(e);n.exists(l,(function(r){r||a(l),n.open(e,"w",438,(function(r,o){r?n.chmod(e,438,(function(){n.open(e,"w",438,(function(r,o){n.write(o,t,0,t.length,0,(function(){n.close(o,(function(){n.chmod(e,i||438,(function(){s(!0)}))}))}))}))})):o?n.write(o,t,0,t.length,0,(function(){n.close(o,(function(){n.chmod(e,i||438,(function(){s(!0)}))}))})):n.chmod(e,i||438,(function(){s(!0)}))}))}))}))}))},findFiles:function(e){return c(e,!0)},getAttributes:function(e){},setAttributes:function(e){},toBuffer:function(e){return Buffer.isBuffer(e)?e:0===e.length?Buffer.alloc(0):Buffer.from(e,"utf8")},readBigUInt64LE:function(e,t){var r=Buffer.from(e.slice(t,t+8));return r.swap64(),parseInt("0x"+r.toString("hex"))},Constants:t,Errors:i}}()},396:(e,t,r)=>{var n=r(173),o=r(854),i=n.Constants,s=r(4);e.exports=function(e){var t=new o.EntryHeader,r=Buffer.alloc(0),a=Buffer.alloc(0),c=!1,u=null,l=Buffer.alloc(0);function f(){return e&&Buffer.isBuffer(e)?(t.loadDataHeaderFromBinary(e),e.slice(t.realDataOffset,t.realDataOffset+t.compressedSize)):Buffer.alloc(0)}function d(e){return 8==(8&t.flags)||n.crc32(e)===t.dataHeader.crc}function h(e,o,i){if(void 0===o&&"string"==typeof e&&(e=void 0),c)return e&&o&&o(Buffer.alloc(0),n.Errors.DIRECTORY_CONTENT_ERROR),Buffer.alloc(0);var a=f();if(0===a.length)return e&&o&&o(a),a;var u=Buffer.alloc(t.size);switch(t.method){case n.Constants.STORED:return a.copy(u),d(u)?(e&&o&&o(u),u):(e&&o&&o(u,n.Errors.BAD_CRC),n.Errors.BAD_CRC);case n.Constants.DEFLATED:var l=new s.Inflater(a);if(!e)return l.inflate(u).copy(u,0),d(u)||console.warn(n.Errors.BAD_CRC+" "+r.toString()),u;l.inflateAsync((function(e){e.copy(u,0),d(u)?o&&o(u):o&&o(u,n.Errors.BAD_CRC)}));break;default:return e&&o&&o(Buffer.alloc(0),n.Errors.UNKNOWN_METHOD),n.Errors.UNKNOWN_METHOD}}function E(r,o){if((!u||!u.length)&&Buffer.isBuffer(e))return r&&o&&o(f()),f();if(u.length&&!c){var i;switch(t.method){case n.Constants.STORED:return t.compressedSize=t.size,i=Buffer.alloc(u.length),u.copy(i),r&&o&&o(i),i;default:case n.Constants.DEFLATED:var a=new s.Deflater(u);if(!r){var l=a.deflate();return t.compressedSize=l.length,l}a.deflateAsync((function(e){i=Buffer.alloc(e.length),t.compressedSize=e.length,e.copy(i),o&&o(i)})),a=null}}else{if(!r||!o)return Buffer.alloc(0);o(Buffer.alloc(0))}}function p(e,t){return(e.readUInt32LE(t+4)<<4)+e.readUInt32LE(t)}function y(e){var r,n,o,s;e.length>=i.EF_ZIP64_SCOMP&&(r=p(e,i.EF_ZIP64_SUNCOMP),t.size===i.EF_ZIP64_OR_32&&(t.size=r)),e.length>=i.EF_ZIP64_RHO&&(n=p(e,i.EF_ZIP64_SCOMP),t.compressedSize===i.EF_ZIP64_OR_32&&(t.compressedSize=n)),e.length>=i.EF_ZIP64_DSN&&(o=p(e,i.EF_ZIP64_RHO),t.offset===i.EF_ZIP64_OR_32&&(t.offset=o)),e.length>=i.EF_ZIP64_DSN+4&&(s=e.readUInt32LE(i.EF_ZIP64_DSN),t.diskNumStart===i.EF_ZIP64_OR_16&&(t.diskNumStart=s))}return{get entryName(){return r.toString()},get rawEntryName(){return r},set entryName(e){var o=(r=n.toBuffer(e))[r.length-1];c=47===o||92===o,t.fileNameLength=r.length},get extra(){return l},set extra(e){l=e,t.extraLength=e.length,function(e){for(var t,r,n,o=0;o<e.length;)t=e.readUInt16LE(o),o+=2,r=e.readUInt16LE(o),o+=2,n=e.slice(o,o+r),o+=r,i.ID_ZIP64===t&&y(n)}(e)},get comment(){return a.toString()},set comment(e){a=n.toBuffer(e),t.commentLength=a.length},get name(){var e=r.toString();return c?e.substr(e.length-1).split("/").pop():e.split("/").pop()},get isDirectory(){return c},getCompressedData:function(){return E(!1,null)},getCompressedDataAsync:function(e){E(!0,e)},setData:function(e){u=n.toBuffer(e),!c&&u.length?(t.size=u.length,t.method=n.Constants.DEFLATED,t.crc=n.crc32(e),t.changed=!0):t.method=n.Constants.STORED},getData:function(e){return t.changed?u:h(!1,null)},getDataAsync:function(e,r){t.changed?e(u):h(!0,e)},set attr(e){t.attr=e},get attr(){return t.attr},set header(e){t.loadFromBinary(e)},get header(){return t},packHeader:function(){var e=t.entryHeaderToBinary();return r.copy(e,n.Constants.CENHDR),t.extraLength&&l.copy(e,n.Constants.CENHDR+r.length),t.commentLength&&a.copy(e,n.Constants.CENHDR+r.length+t.extraLength,a.length),e},toString:function(){return'{\n\t"entryName" : "'+r.toString()+'",\n\t"name" : "'+(c?r.toString().replace(/\/$/,"").split("/").pop():r.toString().split("/").pop())+'",\n\t"comment" : "'+a.toString()+'",\n\t"isDirectory" : '+c+',\n\t"header" : '+t.toString().replace(/\t/gm,"\t\t").replace(/}/gm,"\t}")+',\n\t"compressedData" : <'+(e&&e.length+" bytes buffer"||"null")+'>\n\t"data" : <'+(u&&u.length+" bytes buffer"||"null")+">\n}"}}}},333:(e,t,r)=>{var n=r(396),o=r(854),i=r(173);e.exports=function(e,t){var r=[],s={},a=Buffer.alloc(0),c="",u=i.FileSystem.require(),l=null,f=new o.MainHeader,d=!1;function h(){d=!0,s={},r=new Array(f.diskEntries);for(var e=f.offset,t=0;t<r.length;t++){var o=e,a=new n(l);a.header=l.slice(o,o+=i.Constants.CENHDR),a.entryName=l.slice(o,o+=a.header.fileNameLength),a.header.extraLength&&(a.extra=l.slice(o,o+=a.header.extraLength)),a.header.commentLength&&(a.comment=l.slice(o,o+a.header.commentLength)),e+=a.header.entryHeaderSize,r[t]=a,s[a.entryName]=a}}function E(){for(var e=l.length-i.Constants.ENDHDR,t=Math.max(0,e-65535),r=t,n=l.length,o=-1,s=0;e>=r;e--)if(80===l[e])if(l.readUInt32LE(e)!==i.Constants.ENDSIG)if(l.readUInt32LE(e)!==i.Constants.END64SIG){if(l.readUInt32LE(e)==i.Constants.ZIP64SIG){o=e,n=e+i.readBigUInt64LE(l,e+i.Constants.ZIP64SIZE)+i.Constants.ZIP64LEAD;break}}else r=t;else o=e,s=e,n=e+i.Constants.ENDHDR,r=e-i.Constants.END64HDR;if(!~o)throw i.Errors.INVALID_FORMAT;f.loadFromBinary(l.slice(o,n)),f.commentLength&&(a=l.slice(s+i.Constants.ENDHDR))}return t===i.Constants.FILE?(c=e,l=u.readFileSync(c),E()):t===i.Constants.BUFFER?(l=e,E()):d=!0,{get entries(){return d||h(),r},get comment(){return a.toString()},set comment(e){f.commentLength=e.length,a=e},getEntryCount:function(){return d?r.length:f.diskEntries},forEach:function(e){d?r.forEach(e):function(e){const t=f.diskEntries;let r=f.offset;for(let o=0;o<t;o++){let t=r;const o=new n(l);o.header=l.slice(t,t+=i.Constants.CENHDR),o.entryName=l.slice(t,t+=o.header.fileNameLength),r+=o.header.entryHeaderSize,e(o)}}(e)},getEntry:function(e){return d||h(),s[e]||null},setEntry:function(e){d||h(),r.push(e),s[e.entryName]=e,f.totalEntries=r.length},deleteEntry:function(e){d||h();var t=s[e];if(t&&t.isDirectory){var n=this;this.getEntryChildren(t).forEach((function(t){t.entryName!==e&&n.deleteEntry(t.entryName)}))}r.splice(r.indexOf(t),1),delete s[e],f.totalEntries=r.length},getEntryChildren:function(e){if(d||h(),e.isDirectory){var t=[],n=e.entryName,o=n.length;return r.forEach((function(e){e.entryName.substr(0,o)===n&&t.push(e)})),t}return[]},compressToBuffer:function(){d||h(),r.length>1&&r.sort((function(e,t){var r=e.entryName.toLowerCase(),n=t.entryName.toLowerCase();return r<n?-1:r>n?1:0}));var e=0,t=[],n=[],o=0;f.size=0,f.offset=0,r.forEach((function(r){var i=r.getCompressedData();r.header.offset=o;var s=r.header.dataHeaderToBinary(),a=r.rawEntryName.length,c=r.extra.toString(),u=Buffer.alloc(a+c.length);r.rawEntryName.copy(u,0),u.fill(c,a);var l=s.length+u.length+i.length;o+=l,t.push(s),t.push(u),t.push(i);var d=r.packHeader();n.push(d),f.size+=d.length,e+=l+d.length})),e+=f.mainHeaderSize,f.offset=o,o=0;var s=Buffer.alloc(e);t.forEach((function(e){e.copy(s,o),o+=e.length})),n.forEach((function(e){e.copy(s,o),o+=e.length}));var c=f.toBinary();return a&&a.copy(c,i.Constants.ENDHDR),c.copy(s,o),s},toAsyncBuffer:function(e,t,n,o){d||h(),r.length>1&&r.sort((function(e,t){var r=e.entryName.toLowerCase(),n=t.entryName.toLowerCase();return r>n?-1:r<n?1:0}));var s=0,c=[],u=[],l=0;f.size=0,f.offset=0,function(t){var r=arguments.callee;if(t.length){var d=t.pop(),h=d.entryName+d.extra.toString();n&&n(h),d.getCompressedDataAsync((function(n){o&&o(h),d.header.offset=l;var E,p=d.header.dataHeaderToBinary();try{E=Buffer.alloc(h.length,h)}catch(e){E=new Buffer(h)}var y=p.length+E.length+n.length;l+=y,c.push(p),c.push(E),c.push(n);var m=d.packHeader();if(u.push(m),f.size+=m.length,s+=y+m.length,t.length)r(t);else{s+=f.mainHeaderSize,f.offset=l,l=0;var g=Buffer.alloc(s);c.forEach((function(e){e.copy(g,l),l+=e.length})),u.forEach((function(e){e.copy(g,l),l+=e.length}));var v=f.toBinary();a&&a.copy(v,i.Constants.ENDHDR),v.copy(g,l),e(g)}}))}}(r)}}}},427:(e,t,r)=>{"use strict";r.r(t),r.d(t,{FetchError:()=>d,Headers:()=>T,Request:()=>Z,Response:()=>B,default:()=>X});var n=r(413);const o=require("http"),i=require("url"),s=require("https");var a=r(761);const c=n.Readable,u=Symbol("buffer"),l=Symbol("type");class f{constructor(){this[l]="";const e=arguments[0],t=arguments[1],r=[];let n=0;if(e){const t=e,o=Number(t.length);for(let e=0;e<o;e++){const o=t[e];let i;i=o instanceof Buffer?o:ArrayBuffer.isView(o)?Buffer.from(o.buffer,o.byteOffset,o.byteLength):o instanceof ArrayBuffer?Buffer.from(o):o instanceof f?o[u]:Buffer.from("string"==typeof o?o:String(o)),n+=i.length,r.push(i)}}this[u]=Buffer.concat(r);let o=t&&void 0!==t.type&&String(t.type).toLowerCase();o&&!/[^\u0020-\u007E]/.test(o)&&(this[l]=o)}get size(){return this[u].length}get type(){return this[l]}text(){return Promise.resolve(this[u].toString())}arrayBuffer(){const e=this[u],t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return Promise.resolve(t)}stream(){const e=new c;return e._read=function(){},e.push(this[u]),e.push(null),e}toString(){return"[object Blob]"}slice(){const e=this.size,t=arguments[0],r=arguments[1];let n,o;n=void 0===t?0:t<0?Math.max(e+t,0):Math.min(t,e),o=void 0===r?e:r<0?Math.max(e+r,0):Math.min(r,e);const i=Math.max(o-n,0),s=this[u].slice(n,n+i),a=new f([],{type:arguments[2]});return a[u]=s,a}}function d(e,t,r){Error.call(this,e),this.message=e,this.type=t,r&&(this.code=this.errno=r.code),Error.captureStackTrace(this,this.constructor)}let h;Object.defineProperties(f.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Object.defineProperty(f.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0}),d.prototype=Object.create(Error.prototype),d.prototype.constructor=d,d.prototype.name="FetchError";try{h=require("encoding").convert}catch(e){}const E=Symbol("Body internals"),p=n.PassThrough;function y(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.size;let i=void 0===o?0:o;var s=r.timeout;let a=void 0===s?0:s;null==e?e=null:g(e)?e=Buffer.from(e.toString()):v(e)||Buffer.isBuffer(e)||("[object ArrayBuffer]"===Object.prototype.toString.call(e)?e=Buffer.from(e):ArrayBuffer.isView(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof n||(e=Buffer.from(String(e)))),this[E]={body:e,disturbed:!1,error:null},this.size=i,this.timeout=a,e instanceof n&&e.on("error",(function(e){const r="AbortError"===e.name?e:new d(`Invalid response body while trying to fetch ${t.url}: ${e.message}`,"system",e);t[E].error=r}))}function m(){var e=this;if(this[E].disturbed)return y.Promise.reject(new TypeError("body used already for: "+this.url));if(this[E].disturbed=!0,this[E].error)return y.Promise.reject(this[E].error);let t=this.body;if(null===t)return y.Promise.resolve(Buffer.alloc(0));if(v(t)&&(t=t.stream()),Buffer.isBuffer(t))return y.Promise.resolve(t);if(!(t instanceof n))return y.Promise.resolve(Buffer.alloc(0));let r=[],o=0,i=!1;return new y.Promise((function(n,s){let a;e.timeout&&(a=setTimeout((function(){i=!0,s(new d(`Response timeout while trying to fetch ${e.url} (over ${e.timeout}ms)`,"body-timeout"))}),e.timeout)),t.on("error",(function(t){"AbortError"===t.name?(i=!0,s(t)):s(new d(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t))})),t.on("data",(function(t){if(!i&&null!==t){if(e.size&&o+t.length>e.size)return i=!0,void s(new d(`content size at ${e.url} over limit: ${e.size}`,"max-size"));o+=t.length,r.push(t)}})),t.on("end",(function(){if(!i){clearTimeout(a);try{n(Buffer.concat(r,o))}catch(t){s(new d(`Could not create Buffer from response body for ${e.url}: ${t.message}`,"system",t))}}}))}))}function g(e){return"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&("URLSearchParams"===e.constructor.name||"[object URLSearchParams]"===Object.prototype.toString.call(e)||"function"==typeof e.sort)}function v(e){return"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&"string"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}function I(e){let t,r,o=e.body;if(e.bodyUsed)throw new Error("cannot clone body after it is used");return o instanceof n&&"function"!=typeof o.getBoundary&&(t=new p,r=new p,o.pipe(t),o.pipe(r),e[E].body=t,o=r),o}function w(e){return null===e?null:"string"==typeof e?"text/plain;charset=UTF-8":g(e)?"application/x-www-form-urlencoded;charset=UTF-8":v(e)?e.type||null:Buffer.isBuffer(e)||"[object ArrayBuffer]"===Object.prototype.toString.call(e)||ArrayBuffer.isView(e)?null:"function"==typeof e.getBoundary?"multipart/form-data;boundary="+e.getBoundary():e instanceof n?null:"text/plain;charset=UTF-8"}function S(e){const t=e.body;return null===t?0:v(t)?t.size:Buffer.isBuffer(t)?t.length:t&&"function"==typeof t.getLengthSync&&(t._lengthRetrievers&&0==t._lengthRetrievers.length||t.hasKnownLength&&t.hasKnownLength())?t.getLengthSync():null}y.prototype={get body(){return this[E].body},get bodyUsed(){return this[E].disturbed},arrayBuffer(){return m.call(this).then((function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}))},blob(){let e=this.headers&&this.headers.get("content-type")||"";return m.call(this).then((function(t){return Object.assign(new f([],{type:e.toLowerCase()}),{[u]:t})}))},json(){var e=this;return m.call(this).then((function(t){try{return JSON.parse(t.toString())}catch(t){return y.Promise.reject(new d(`invalid json response body at ${e.url} reason: ${t.message}`,"invalid-json"))}}))},text(){return m.call(this).then((function(e){return e.toString()}))},buffer(){return m.call(this)},textConverted(){var e=this;return m.call(this).then((function(t){return function(e,t){if("function"!=typeof h)throw new Error("The package `encoding` must be installed to use the textConverted() function");const r=t.get("content-type");let n,o,i="utf-8";return r&&(n=/charset=([^;]*)/i.exec(r)),o=e.slice(0,1024).toString(),!n&&o&&(n=/<meta.+?charset=(['"])(.+?)\1/i.exec(o)),!n&&o&&(n=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(o),n||(n=/<meta[\s]+?content=(['"])(.+?)\1[\s]+?http-equiv=(['"])content-type\3/i.exec(o),n&&n.pop()),n&&(n=/charset=(.*)/i.exec(n.pop()))),!n&&o&&(n=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(o)),n&&(i=n.pop(),"gb2312"!==i&&"gbk"!==i||(i="gb18030")),h(e,"UTF-8",i).toString()}(t,e.headers)}))}},Object.defineProperties(y.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}}),y.mixIn=function(e){for(const t of Object.getOwnPropertyNames(y.prototype))if(!(t in e)){const r=Object.getOwnPropertyDescriptor(y.prototype,t);Object.defineProperty(e,t,r)}},y.Promise=global.Promise;const N=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,b=/[^\t\x20-\x7e\x80-\xff]/;function O(e){if(e=""+e,N.test(e)||""===e)throw new TypeError(e+" is not a legal HTTP header name")}function C(e){if(e=""+e,b.test(e))throw new TypeError(e+" is not a legal HTTP header value")}function L(e,t){t=t.toLowerCase();for(const r in e)if(r.toLowerCase()===t)return r}const _=Symbol("map");class T{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this[_]=Object.create(null),e instanceof T){const t=e.raw(),r=Object.keys(t);for(const e of r)for(const r of t[e])this.append(e,r)}else if(null==e);else{if("object"!=typeof e)throw new TypeError("Provided initializer must be an object");{const t=e[Symbol.iterator];if(null!=t){if("function"!=typeof t)throw new TypeError("Header pairs must be iterable");const r=[];for(const t of e){if("object"!=typeof t||"function"!=typeof t[Symbol.iterator])throw new TypeError("Each header pair must be iterable");r.push(Array.from(t))}for(const e of r){if(2!==e.length)throw new TypeError("Each header pair must be a name/value tuple");this.append(e[0],e[1])}}else for(const t of Object.keys(e)){const r=e[t];this.append(t,r)}}}}get(e){O(e=""+e);const t=L(this[_],e);return void 0===t?null:this[_][t].join(", ")}forEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=D(this),n=0;for(;n<r.length;){var o=r[n];const i=o[0],s=o[1];e.call(t,s,i,this),r=D(this),n++}}set(e,t){t=""+t,O(e=""+e),C(t);const r=L(this[_],e);this[_][void 0!==r?r:e]=[t]}append(e,t){t=""+t,O(e=""+e),C(t);const r=L(this[_],e);void 0!==r?this[_][r].push(t):this[_][e]=[t]}has(e){return O(e=""+e),void 0!==L(this[_],e)}delete(e){O(e=""+e);const t=L(this[_],e);void 0!==t&&delete this[_][t]}raw(){return this[_]}keys(){return P(this,"key")}values(){return P(this,"value")}[Symbol.iterator](){return P(this,"key+value")}}function D(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key+value";const r=Object.keys(e[_]).sort();return r.map("key"===t?function(e){return e.toLowerCase()}:"value"===t?function(t){return e[_][t].join(", ")}:function(t){return[t.toLowerCase(),e[_][t].join(", ")]})}T.prototype.entries=T.prototype[Symbol.iterator],Object.defineProperty(T.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(T.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});const R=Symbol("internal");function P(e,t){const r=Object.create(F);return r[R]={target:e,kind:t,index:0},r}const F=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==F)throw new TypeError("Value of `this` is not a HeadersIterator");var e=this[R];const t=e.target,r=e.kind,n=e.index,o=D(t,r);return n>=o.length?{value:void 0,done:!0}:(this[R].index=n+1,{value:o[n],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));function A(e){const t=Object.assign({__proto__:null},e[_]),r=L(e[_],"Host");return void 0!==r&&(t[r]=t[r][0]),t}Object.defineProperty(F,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});const x=Symbol("Response internals"),U=o.STATUS_CODES;class B{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y.call(this,e,t);const r=t.status||200,n=new T(t.headers);if(null!=e&&!n.has("Content-Type")){const t=w(e);t&&n.append("Content-Type",t)}this[x]={url:t.url,status:r,statusText:t.statusText||U[r],headers:n,counter:t.counter}}get url(){return this[x].url||""}get status(){return this[x].status}get ok(){return this[x].status>=200&&this[x].status<300}get redirected(){return this[x].counter>0}get statusText(){return this[x].statusText}get headers(){return this[x].headers}clone(){return new B(I(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}}y.mixIn(B.prototype),Object.defineProperties(B.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}}),Object.defineProperty(B.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});const M=Symbol("Request internals"),j=i.parse,k=i.format,H="destroy"in n.Readable.prototype;function z(e){return"object"==typeof e&&"object"==typeof e[M]}class Z{constructor(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};z(e)?t=j(e.url):(t=e&&e.href?j(e.href):j(""+e),e={});let n=r.method||e.method||"GET";if(n=n.toUpperCase(),(null!=r.body||z(e)&&null!==e.body)&&("GET"===n||"HEAD"===n))throw new TypeError("Request with GET/HEAD method cannot have body");let o=null!=r.body?r.body:z(e)&&null!==e.body?I(e):null;y.call(this,o,{timeout:r.timeout||e.timeout||0,size:r.size||e.size||0});const i=new T(r.headers||e.headers||{});if(null!=o&&!i.has("Content-Type")){const e=w(o);e&&i.append("Content-Type",e)}let s=z(e)?e.signal:null;if("signal"in r&&(s=r.signal),null!=s&&!function(e){const t=e&&"object"==typeof e&&Object.getPrototypeOf(e);return!(!t||"AbortSignal"!==t.constructor.name)}(s))throw new TypeError("Expected signal to be an instanceof AbortSignal");this[M]={method:n,redirect:r.redirect||e.redirect||"follow",headers:i,parsedURL:t,signal:s},this.follow=void 0!==r.follow?r.follow:void 0!==e.follow?e.follow:20,this.compress=void 0!==r.compress?r.compress:void 0===e.compress||e.compress,this.counter=r.counter||e.counter||0,this.agent=r.agent||e.agent}get method(){return this[M].method}get url(){return k(this[M].parsedURL)}get headers(){return this[M].headers}get redirect(){return this[M].redirect}get signal(){return this[M].signal}clone(){return new Z(this)}}function V(e){Error.call(this,e),this.type="aborted",this.message=e,Error.captureStackTrace(this,this.constructor)}y.mixIn(Z.prototype),Object.defineProperty(Z.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(Z.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}}),V.prototype=Object.create(Error.prototype),V.prototype.constructor=V,V.prototype.name="AbortError";const G=n.PassThrough,$=i.resolve;function W(e,t){if(!W.Promise)throw new Error("native promise missing, set fetch.Promise to your favorite alternative");return y.Promise=W.Promise,new W.Promise((function(r,i){const c=new Z(e,t),u=function(e){const t=e[M].parsedURL,r=new T(e[M].headers);if(r.has("Accept")||r.set("Accept","*/*"),!t.protocol||!t.hostname)throw new TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(t.protocol))throw new TypeError("Only HTTP(S) protocols are supported");if(e.signal&&e.body instanceof n.Readable&&!H)throw new Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");let o=null;if(null==e.body&&/^(POST|PUT)$/i.test(e.method)&&(o="0"),null!=e.body){const t=S(e);"number"==typeof t&&(o=String(t))}o&&r.set("Content-Length",o),r.has("User-Agent")||r.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),e.compress&&!r.has("Accept-Encoding")&&r.set("Accept-Encoding","gzip,deflate");let i=e.agent;return"function"==typeof i&&(i=i(t)),r.has("Connection")||i||r.set("Connection","close"),Object.assign({},t,{method:e.method,headers:A(r),agent:i})}(c),l=("https:"===u.protocol?s:o).request,f=c.signal;let h=null;const E=function(){let e=new V("The user aborted a request.");i(e),c.body&&c.body instanceof n.Readable&&c.body.destroy(e),h&&h.body&&h.body.emit("error",e)};if(f&&f.aborted)return void E();const p=function(){E(),g()},y=l(u);let m;function g(){y.abort(),f&&f.removeEventListener("abort",p),clearTimeout(m)}f&&f.addEventListener("abort",p),c.timeout&&y.once("socket",(function(e){m=setTimeout((function(){i(new d("network timeout at: "+c.url,"request-timeout")),g()}),c.timeout)})),y.on("error",(function(e){i(new d(`request to ${c.url} failed, reason: ${e.message}`,"system",e)),g()})),y.on("response",(function(e){clearTimeout(m);const t=function(e){const t=new T;for(const r of Object.keys(e))if(!N.test(r))if(Array.isArray(e[r]))for(const n of e[r])b.test(n)||(void 0===t[_][r]?t[_][r]=[n]:t[_][r].push(n));else b.test(e[r])||(t[_][r]=[e[r]]);return t}(e.headers);if(W.isRedirect(e.statusCode)){const n=t.get("Location"),o=null===n?null:$(c.url,n);switch(c.redirect){case"error":return i(new d("uri requested responds with a redirect, redirect mode is set to error: "+c.url,"no-redirect")),void g();case"manual":if(null!==o)try{t.set("Location",o)}catch(e){i(e)}break;case"follow":if(null===o)break;if(c.counter>=c.follow)return i(new d("maximum redirect reached at: "+c.url,"max-redirect")),void g();const n={headers:new T(c.headers),follow:c.follow,counter:c.counter+1,agent:c.agent,compress:c.compress,method:c.method,body:c.body,signal:c.signal,timeout:c.timeout,size:c.size};return 303!==e.statusCode&&c.body&&null===S(c)?(i(new d("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void g()):(303!==e.statusCode&&(301!==e.statusCode&&302!==e.statusCode||"POST"!==c.method)||(n.method="GET",n.body=void 0,n.headers.delete("content-length")),r(W(new Z(o,n))),void g())}}e.once("end",(function(){f&&f.removeEventListener("abort",p)}));let n=e.pipe(new G);const o={url:c.url,status:e.statusCode,statusText:e.statusMessage,headers:t,size:c.size,timeout:c.timeout,counter:c.counter},s=t.get("Content-Encoding");if(!c.compress||"HEAD"===c.method||null===s||204===e.statusCode||304===e.statusCode)return h=new B(n,o),void r(h);const u={flush:a.Z_SYNC_FLUSH,finishFlush:a.Z_SYNC_FLUSH};if("gzip"==s||"x-gzip"==s)return n=n.pipe(a.createGunzip(u)),h=new B(n,o),void r(h);if("deflate"!=s&&"x-deflate"!=s){if("br"==s&&"function"==typeof a.createBrotliDecompress)return n=n.pipe(a.createBrotliDecompress()),h=new B(n,o),void r(h);h=new B(n,o),r(h)}else e.pipe(new G).once("data",(function(e){n=8==(15&e[0])?n.pipe(a.createInflate()):n.pipe(a.createInflateRaw()),h=new B(n,o),r(h)}))})),function(e,t){const r=t.body;null===r?e.end():v(r)?r.stream().pipe(e):Buffer.isBuffer(r)?(e.write(r),e.end()):r.pipe(e)}(y,c)}))}W.isRedirect=function(e){return 301===e||302===e||303===e||307===e||308===e},W.Promise=global.Promise;const X=W},503:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(549),i=r(285),s=r(439),a=r(622),c=r(601),u=r(691);t.generateProject=function(){return n(this,void 0,void 0,(function*(){try{const e=yield u.getSupportMatrix(),t=e.configs,r=Object.keys(t),n=yield s.askForGroupID();if(void 0===n)return;const l=yield s.askForArtifactID();if(void 0===l)return;const f=yield s.askForMPVersion(r);if(void 0===f)return;const d=yield s.askForMPServer(t[f].supportedServers);if(void 0===d)return;const{buildTools:h,javaSEVersions:E,mpSpecs:p}=yield u.getSupportedJavaAndSpecs(d,f),y=yield s.askForJavaSEVersion(E);if(void 0===y)return;const m=yield s.askForBuildTool(h);if(void 0===m)return;const g=e.descriptions,v=yield s.askForMPSpecifications(p,g);if(void 0===v)return;const I=yield s.askForTargetFolder(l);if(void 0===I)return;const w=I.fsPath,S={groupId:n,artifactId:l,mpVersion:f,supportedServer:d,javaSEVersion:y,buildTool:m,selectedSpecs:v},N=l+".zip",b=a.join(w,N);yield o.window.withProgress({location:o.ProgressLocation.Notification,title:"Generating the MicroProfile Starter project...",cancellable:!1},(()=>u.downloadMPStarterProjectZip(S,b)));const O=a.join(w,l);try{yield i.unzipFile(b,w,O)}catch(e){console.error(e);const t=new Error("Unable to extract MicroProfile Starter project");throw t.name=c.ERRORS.EXTRACT_PROJECT_ERROR,t}try{yield i.deleteFile(b)}catch(e){console.error(e),o.window.showErrorMessage("Failed to delete file "+N)}const C=o.Uri.file(O),L=yield o.window.showInformationMessage("MicroProfile Starter project generated.  Add your project to the current workspace or open it in a new window?",c.OPEN_NEW_PROJECT_OPTIONS.ADD_CURRENT_WORKSPACE,c.OPEN_NEW_PROJECT_OPTIONS.OPEN_NEW_WINDOW);L===c.OPEN_NEW_PROJECT_OPTIONS.ADD_CURRENT_WORKSPACE?(o.workspace.updateWorkspaceFolders(0,0,{uri:C}),o.commands.executeCommand("workbench.view.explorer")):L===c.OPEN_NEW_PROJECT_OPTIONS.OPEN_NEW_WINDOW&&(yield o.commands.executeCommand("vscode.openFolder",C,!0))}catch(e){console.error(e),e.name===c.ERRORS.FETCH_ERROR?o.window.showErrorMessage("Failed to connect to the MicroProfile Starter. Please check your network connection and try again."):e.name===c.ERRORS.EXTRACT_PROJECT_ERROR?o.window.showErrorMessage("Failed to extract the MicroProfile Starter project"):o.window.showErrorMessage("Failed to generate a MicroProfile Starter project")}}))}},601:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MP_STARTER_API_ROOT="https://start.microprofile.io/api/6",t.MP_VERSION_LABELS={MP40:"Version 4.0",MP33:"Version 3.3",MP32:"Version 3.2",MP30:"Version 3.0",MP22:"Version 2.2",MP21:"Version 2.1",MP20:"Version 2.0",MP14:"Version 1.4",MP13:"Version 1.3",MP12:"Version 1.2"},t.MP_SERVER_LABELS={LIBERTY:"Open Liberty",HELIDON:"Helidon",PAYARA_MICRO:"Payara Micro",THORNTAIL_V2:"Thorntail Version 2",KUMULUZEE:"KumuluzEE",TOMEE:"Apache TomEE 8.00-M3",WILDFLY:"WildFly",WILDFLY_SWARM:"WildFly Swarm",QUARKUS:"Quarkus"},t.OPEN_NEW_PROJECT_OPTIONS={ADD_CURRENT_WORKSPACE:"Add to current workspace",OPEN_NEW_WINDOW:"Open in new window"},t.EXTENSION_USER_AGENT="Visual Studio Code",t.CONFIRM_OPTIONS={YES:"Yes",NO:"No"},t.ERRORS={FETCH_ERROR:"FetchError",EXTRACT_PROJECT_ERROR:"ExtractProjectError"}},112:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(549),o=r(503);t.activate=function(e){e.subscriptions.push(n.commands.registerCommand("extension.microProfileStarter",o.generateProject))},t.deactivate=function(){}},691:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(601),i=r(427),s=r(285);t.getSupportMatrix=function(){return n(this,void 0,void 0,(function*(){const e=yield i.default(o.MP_STARTER_API_ROOT+"/supportMatrix",{method:"GET",headers:{"User-Agent":o.EXTENSION_USER_AGENT}});if(e.status>=400&&e.status<600)throw new Error(`Bad response ${e.status}: ${e.statusText}`);return e.json()}))},t.getSupportedJavaAndSpecs=function(e,t){return n(this,void 0,void 0,(function*(){const r=yield i.default(o.MP_STARTER_API_ROOT+"/supportMatrix/servers",{method:"GET",headers:{"User-Agent":o.EXTENSION_USER_AGENT}});if(r.status>=400&&r.status<600)throw new Error(`Bad response ${r.status}: ${r.statusText}`);const n=(yield r.json()).configs[e].find((e=>e.mpVersion===t));if(void 0===n)throw new Error("Unable to find supported MicroProfile specifications and Java versions");return n}))},t.downloadMPStarterProjectZip=function(e,t){return n(this,void 0,void 0,(function*(){const r={url:o.MP_STARTER_API_ROOT+"/project",method:"POST",headers:{"Content-Type":"application/json","User-Agent":o.EXTENSION_USER_AGENT},body:JSON.stringify(e)};yield s.downloadFile(r,t)}))}},285:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};Object.defineProperty(t,"__esModule",{value:!0});const i=r(747),s=r(427),a=r(413),c=r(669),u=r(278),l=r(622),f=r(549);t.downloadFile=function(e,t){return n(this,void 0,void 0,(function*(){const{url:r}=e,n=o(e,["url"]),c=yield s.default(r,n);if(c.status>=400&&c.status<600)throw new Error(`Bad response from server ${c.status}: ${c.statusText}`);return new Promise(((e,r)=>{a.pipeline(c.body,i.createWriteStream(t),(t=>{t?r(t):e()}))}))}))},t.deleteFolder=e=>{var r;if(i.existsSync(e)){i.readdirSync(e).forEach(((r,n)=>{const o=l.join(e,r);i.lstatSync(o).isDirectory()?t.deleteFolder(o):i.unlinkSync(o)}));try{i.rmdirSync(e)}catch(t){null===(r=f.workspace.workspaceFolders)||void 0===r||r.forEach(((t,r)=>{t.name===e&&(f.commands.executeCommand("workbench.action.removeRootFolder"),i.rmdirSync(e))}))}}},t.deleteFile=c.promisify(i.unlink),t.exists=c.promisify(i.exists),t.trimCapitalizeFirstLetter=function(e){const t=e.trim();return t.charAt(0).toUpperCase()+t.slice(1)},t.unzipFile=function(e,r,o){return n(this,void 0,void 0,(function*(){new u(e).extractAllTo(r,!1);const n=yield t.exists(o);return new Promise(((e,t)=>{n?e():t(new Error("Unable to extract zip folder: "+o))}))}))},t.validateGroupId=function(e){return n(this,void 0,void 0,(function*(){if(!new RegExp("^([a-zA-Z_$][a-zA-Z\\d_$]*\\.)*[a-zA-Z_$][a-zA-Z\\d_$]*$").test(e))return/^[a-zA-Z_$]/.test(e)?/[a-zA-Z\\d_$]$/.test(e)?"Invalid groupId: A valid groupId can only contain characters from A to z, numbers, and the following symbols: ._$":"Invalid groupId: A valid groupId must end with a character from A to z, a number, or one of the following symbols: _$":"Invalid groupId: A valid groupId must start with a character from A to z, or one of the following symbols: _$"}))},t.validateArtifactId=function(e){return n(this,void 0,void 0,(function*(){if(!new RegExp("^[a-z][a-z0-9-._]*$").test(e))return/^[a-z]/.test(e)?"Invalid artifactId: A valid artifactId can only contain characters from a-z, numbers, and the following symbols: -._":"Invalid artifactId: A valid artifactId must start with a character from a-z"}))}},439:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(549),i=r(622),s=r(549),a=r(601),c=r(285);function u(e){return n(this,void 0,void 0,(function*(){const t=yield s.window.showOpenDialog(Object.assign({canSelectFiles:!1,canSelectFolders:!0,canSelectMany:!1},e));if(t&&t.length>0)return t[0]}))}function l(e){return n(this,void 0,void 0,(function*(){return yield o.window.showWarningMessage(e,a.CONFIRM_OPTIONS.YES,a.CONFIRM_OPTIONS.NO)}))}t.askForGroupID=function(){return n(this,void 0,void 0,(function*(){return yield o.window.showInputBox({placeHolder:"e.g. com.example",prompt:"Specify a Group Id for your project.",value:"com.example",ignoreFocusOut:!0,validateInput:c.validateGroupId})}))},t.askForArtifactID=function(){return n(this,void 0,void 0,(function*(){return yield o.window.showInputBox({placeHolder:"demo",prompt:"Specify an Artifact Id for your project.",value:"demo",ignoreFocusOut:!0,validateInput:c.validateArtifactId})}))},t.askForJavaSEVersion=function(e){return n(this,void 0,void 0,(function*(){return yield o.window.showQuickPick(e,{ignoreFocusOut:!0,placeHolder:"Select a Java SE version."})}))},t.askForBuildTool=function(e){return n(this,void 0,void 0,(function*(){const t=[];for(const r of e){const e=r.toLowerCase(),n=e.charAt(0).toUpperCase()+e.substring(1);t.push(n)}const r=yield o.window.showQuickPick(t,{ignoreFocusOut:!0,placeHolder:"Select a build tool."});if(null!=r)return r.toUpperCase()}))},t.askForMPVersion=function(e){return n(this,void 0,void 0,(function*(){const t=[];for(const r of e)null!=a.MP_VERSION_LABELS[r]&&t.push({label:a.MP_VERSION_LABELS[r],version:r});const r=yield o.window.showQuickPick(t,{ignoreFocusOut:!0,placeHolder:"Select a MicroProfile version."});if(null!=r)return r.version}))},t.askForMPServer=function(e){return n(this,void 0,void 0,(function*(){const t=[];for(const r of e)null!=a.MP_SERVER_LABELS[r]&&t.push({label:a.MP_SERVER_LABELS[r],server:r});const r=yield o.window.showQuickPick(t,{ignoreFocusOut:!0,placeHolder:"Select a MicroProfile server."});if(null!=r)return r.server}))},t.askForMPSpecifications=function(e,t){return n(this,void 0,void 0,(function*(){const r=e.map((e=>{const r=t[e],[n,o]=r.split("-");return{spec:e,label:n,detail:c.trimCapitalizeFirstLetter(o)}})),n=yield o.window.showQuickPick(r,{ignoreFocusOut:!0,canPickMany:!0,placeHolder:"Select MicroProfile specifications."});if(null!=n)return n.map((e=>e.spec))}))},t.askForFolder=u,t.askForTargetFolder=function e(t){return n(this,void 0,void 0,(function*(){const r=yield u({openLabel:"Generate into this folder"});if(r&&(yield c.exists(i.join(r.fsPath,t)))){const n=yield l(`Folder ${t} already exists inside the ${r.fsPath} folder. The ${t} folder will be deleted and replaced with the generated MicroProfile Starter project. Are you sure you want to generate into this folder?`);if(n===a.CONFIRM_OPTIONS.YES)try{c.deleteFolder(i.join(r.fsPath,t))}catch(e){o.window.showErrorMessage(`Failed to delete folder ${r.fsPath} because it is being used by another process. Failed to generate a MicroProfile Starter project.`)}else if(n===a.CONFIRM_OPTIONS.NO)return yield e(t)}return r}))},t.askConfirmation=l},747:e=>{"use strict";e.exports=require("fs")},622:e=>{"use strict";e.exports=require("path")},413:e=>{"use strict";e.exports=require("stream")},669:e=>{"use strict";e.exports=require("util")},549:e=>{"use strict";e.exports=require("vscode")},761:e=>{"use strict";e.exports=require("zlib")}},t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}return r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r(112)})();
//# sourceMappingURL=extension.js.map